<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>N2B - ì •ë¶€ R&D ì •ì±…ì‚¬ì—… ë§¤ì¹­ ì‹œìŠ¤í…œ</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }
        .container {
            max-width: 900px;
            margin: 0 auto;
        }
        .header {
            text-align: center;
            color: white;
            margin-bottom: 30px;
        }
        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
        }
        .header p {
            font-size: 1.2em;
            opacity: 0.9;
        }
        .card {
            background: white;
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 20px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.2);
        }
        .card h2 {
            color: #667eea;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        .mode-buttons {
            display: flex;
            gap: 15px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }
        .mode-btn {
            flex: 1;
            min-width: 200px;
            padding: 20px;
            border: 3px solid #667eea;
            border-radius: 12px;
            background: white;
            cursor: pointer;
            transition: all 0.3s;
            text-align: center;
        }
        .mode-btn:hover {
            background: #f0f4ff;
            transform: translateY(-2px);
        }
        .mode-btn.active {
            background: #667eea;
            color: white;
        }
        .mode-btn h3 {
            font-size: 1.3em;
            margin-bottom: 8px;
        }
        .mode-btn p {
            font-size: 0.9em;
            opacity: 0.8;
        }
        .demo-badge {
            background: #ff6b6b;
            color: white;
            padding: 3px 10px;
            border-radius: 20px;
            font-size: 0.7em;
            margin-left: 10px;
        }
        .api-section {
            display: none;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 10px;
            margin-top: 15px;
        }
        .api-section.show {
            display: block;
        }
        .api-section label {
            display: block;
            margin-bottom: 8px;
            font-weight: bold;
            color: #333;
        }
        .api-section input {
            width: 100%;
            padding: 12px;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: 1em;
        }
        .api-section input:focus {
            outline: none;
            border-color: #667eea;
        }
        .api-section .hint {
            font-size: 0.85em;
            color: #666;
            margin-top: 8px;
        }
        .sample-cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 15px;
            margin-bottom: 20px;
        }
        .sample-card {
            padding: 20px;
            border: 2px solid #e0e0e0;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s;
        }
        .sample-card:hover {
            border-color: #667eea;
            background: #f8f9ff;
        }
        .sample-card.selected {
            border-color: #667eea;
            background: #f0f4ff;
        }
        .sample-card h4 {
            color: #333;
            margin-bottom: 10px;
        }
        .sample-card p {
            font-size: 0.9em;
            color: #666;
            line-height: 1.5;
        }
        textarea {
            width: 100%;
            height: 150px;
            padding: 15px;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            font-size: 1em;
            resize: vertical;
        }
        textarea:focus {
            outline: none;
            border-color: #667eea;
        }
        .btn-primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 15px 40px;
            font-size: 1.1em;
            border-radius: 10px;
            cursor: pointer;
            width: 100%;
            margin-top: 20px;
            transition: transform 0.2s, box-shadow 0.2s;
        }
        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 20px rgba(102, 126, 234, 0.4);
        }
        .btn-primary:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
        }
        .result-section {
            display: none;
        }
        .result-section.show {
            display: block;
        }
        .n2b-result {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 15px;
        }
        .n2b-result h3 {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 2px solid #e0e0e0;
        }
        .n2b-result .label {
            background: #667eea;
            color: white;
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 0.9em;
        }
        .n2b-result .content {
            color: #333;
            line-height: 1.8;
        }
        .policy-card {
            background: white;
            border: 2px solid #e0e0e0;
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 15px;
            transition: all 0.3s;
        }
        .policy-card:hover {
            border-color: #667eea;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        .policy-card .title {
            font-size: 1.2em;
            color: #333;
            margin-bottom: 10px;
        }
        .policy-card .match-score {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 0.9em;
            float: right;
        }
        .policy-card .description {
            color: #666;
            line-height: 1.6;
            margin-top: 10px;
        }
        .loading {
            text-align: center;
            padding: 40px;
        }
        .loading .spinner {
            width: 50px;
            height: 50px;
            border: 4px solid #f0f0f0;
            border-top-color: #667eea;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 0 auto 20px;
        }
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
        .demo-notice {
            background: #fff3cd;
            border: 1px solid #ffc107;
            border-radius: 8px;
            padding: 12px 20px;
            margin-bottom: 20px;
            color: #856404;
            display: none;
        }
        .demo-notice.show {
            display: block;
        }
        .footer {
            text-align: center;
            color: white;
            margin-top: 30px;
            opacity: 0.8;
        }
        .footer a {
            color: white;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ¯ N2B</h1>
            <p>ì •ë¶€ R&D ì •ì±…ì‚¬ì—… ë§¤ì¹­ ì‹œìŠ¤í…œ</p>
        </div>

        <!-- ëª¨ë“œ ì„ íƒ -->
        <div class="card">
            <h2>ğŸš€ ì‹œì‘í•˜ê¸°</h2>
            <div class="mode-buttons">
                <div class="mode-btn active" id="demoModeBtn" onclick="selectMode('demo')">
                    <h3>ğŸ¬ ë°ëª¨ ì²´í—˜ <span class="demo-badge">ì¶”ì²œ</span></h3>
                    <p>API í‚¤ ì—†ì´ ë°”ë¡œ ì²´í—˜í•´ë³´ì„¸ìš”!</p>
                </div>
                <div class="mode-btn" id="realModeBtn" onclick="selectMode('real')">
                    <h3>ğŸ”‘ ì‹¤ì œ ë¶„ì„</h3>
                    <p>ë³¸ì¸ API í‚¤ë¡œ ì‹¤ì œ ë¶„ì„</p>
                </div>
            </div>
            
            <div class="api-section" id="apiSection">
                <label for="apiKey">Anthropic API í‚¤</label>
                <input type="password" id="apiKey" placeholder="sk-ant-api03-...">
                <p class="hint">ğŸ’¡ API í‚¤ëŠ” <a href="https://console.anthropic.com/" target="_blank">Anthropic Console</a>ì—ì„œ ë°œê¸‰ë°›ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
            </div>
        </div>

        <!-- ì‚¬ì—…ê³„íš ì…ë ¥ -->
        <div class="card">
            <h2>ğŸ“ ì‚¬ì—…ê³„íš ì…ë ¥</h2>
            
            <p style="margin-bottom: 15px; color: #666;">ìƒ˜í”Œì„ ì„ íƒí•˜ê±°ë‚˜ ì§ì ‘ ì…ë ¥í•˜ì„¸ìš”:</p>
            
            <div class="sample-cards">
                <div class="sample-card" onclick="selectSample(1)">
                    <h4>ğŸ¤– AI í—¬ìŠ¤ì¼€ì–´</h4>
                    <p>AI ê¸°ë°˜ ê°œì¸ ë§ì¶¤í˜• ê±´ê°•ê´€ë¦¬ í”Œë«í¼ ê°œë°œ</p>
                </div>
                <div class="sample-card" onclick="selectSample(2)">
                    <h4>ğŸŒ± ìŠ¤ë§ˆíŠ¸íŒœ</h4>
                    <p>IoT ì„¼ì„œ ê¸°ë°˜ ìŠ¤ë§ˆíŠ¸ ë†ì—… ì†”ë£¨ì…˜</p>
                </div>
                <div class="sample-card" onclick="selectSample(3)">
                    <h4>â™»ï¸ íí”Œë¼ìŠ¤í‹± ì¬í™œìš©</h4>
                    <p>AI ê¸°ë°˜ íí”Œë¼ìŠ¤í‹± ìë™ ë¶„ë¥˜ ì‹œìŠ¤í…œ</p>
                </div>
            </div>
            
            <textarea id="businessPlan" placeholder="ì‚¬ì—… ì•„ì´ë””ì–´ë¥¼ ì…ë ¥í•˜ì„¸ìš”..."></textarea>
            
            <button class="btn-primary" id="analyzeBtn" onclick="analyze()">
                ğŸ” N2B ë¶„ì„ ë° ì •ì±… ë§¤ì¹­ ì‹œì‘
            </button>
        </div>

        <!-- ë°ëª¨ ì•Œë¦¼ -->
        <div class="demo-notice" id="demoNotice">
            âš ï¸ <strong>ë°ëª¨ ëª¨ë“œ</strong>: ë¯¸ë¦¬ ì¤€ë¹„ëœ ìƒ˜í”Œ ê²°ê³¼ì…ë‹ˆë‹¤. ì‹¤ì œ ë¶„ì„ì€ API í‚¤ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.
        </div>

        <!-- ë¡œë”© -->
        <div class="card loading" id="loadingSection" style="display: none;">
            <div class="spinner"></div>
            <p>AIê°€ ë¶„ì„ ì¤‘ì…ë‹ˆë‹¤...</p>
        </div>

        <!-- ê²°ê³¼ -->
        <div class="result-section" id="resultSection">
            <div class="card">
                <h2>ğŸ“Š N2B ë¶„ì„ ê²°ê³¼</h2>
                
                <div class="n2b-result">
                    <h3><span class="label">N (NOT)</span> ë¬¸ì œì  í¬ì°©</h3>
                    <div class="content" id="notResult"></div>
                </div>
                
                <div class="n2b-result">
                    <h3><span class="label">B (BUT)</span> í•´ê²° ì†”ë£¨ì…˜</h3>
                    <div class="content" id="butResult"></div>
                </div>
                
                <div class="n2b-result">
                    <h3><span class="label">C (BECAUSE)</span> ê·¼ê±° ë° ì°¨ë³„ì </h3>
                    <div class="content" id="becauseResult"></div>
                </div>
            </div>

            <div class="card">
                <h2>ğŸ¯ ì¶”ì²œ ì •ë¶€ì§€ì›ì‚¬ì—… Top 3</h2>
                <div id="policyResults"></div>
            </div>
        </div>

        <div class="footer">
            <p>Â© 2025 N2B Framework by Brian Yoo | SINCE: 2025.12.08</p>
        </div>
    </div>

    <script>
        // ë°±ì—”ë“œ URL ê¸°ë³¸ê°’ ì„¤ì •
        const BACKEND_URL = 'https://n2b-backend.onrender.com';
        
        let currentMode = 'demo';
        
        // ìƒ˜í”Œ ë°ì´í„°
        const samples = {
            1: `AI ê¸°ë°˜ ê°œì¸ ë§ì¶¤í˜• ê±´ê°•ê´€ë¦¬ í”Œë«í¼ ê°œë°œ

í˜„ì¬ ê±´ê°•ê´€ë¦¬ ì•±ë“¤ì€ ë‹¨ìˆœ ê¸°ë¡ ìœ„ì£¼ë¡œ, ê°œì¸ë³„ ë§ì¶¤ ê±´ê°• ì¡°ì–¸ì„ ì œê³µí•˜ì§€ ëª»í•˜ê³  ìˆìŠµë‹ˆë‹¤. 

ì €í¬ëŠ” AIë¥¼ í™œìš©í•˜ì—¬ ì‚¬ìš©ìì˜ ê±´ê°• ë°ì´í„°(í™œë™ëŸ‰, ìˆ˜ë©´, ì‹ë‹¨ ë“±)ë¥¼ ë¶„ì„í•˜ê³ , ê°œì¸ë³„ ë§ì¶¤í˜• ê±´ê°• ê´€ë¦¬ ì†”ë£¨ì…˜ì„ ì œê³µí•˜ëŠ” í”Œë«í¼ì„ ê°œë°œí•˜ê³ ì í•©ë‹ˆë‹¤.

ì£¼ìš” ê¸°ëŠ¥:
- AI ê¸°ë°˜ ê±´ê°• ìœ„í—˜ë„ ì˜ˆì¸¡
- ê°œì¸ ë§ì¶¤í˜• ìš´ë™/ì‹ë‹¨ ì¶”ì²œ
- ì‹¤ì‹œê°„ ê±´ê°• ëª¨ë‹ˆí„°ë§
- ì „ë¬¸ê°€ ì—°ê²° ì„œë¹„ìŠ¤`,
            
            2: `IoT ì„¼ì„œ ê¸°ë°˜ ìŠ¤ë§ˆíŠ¸ ë†ì—… ì†”ë£¨ì…˜

í˜„ì¬ ë†ì—… í˜„ì¥ì—ì„œëŠ” ê²½í—˜ì— ì˜ì¡´í•œ ì¬ë°° ê´€ë¦¬ë¡œ ì¸í•´ ìƒì‚°ì„±ê³¼ í’ˆì§ˆì˜ í¸ì°¨ê°€ í½ë‹ˆë‹¤.

ì €í¬ëŠ” IoT ì„¼ì„œì™€ AIë¥¼ ê²°í•©í•˜ì—¬ í† ì–‘ ìƒíƒœ, ê¸°ìƒ ì¡°ê±´, ì‘ë¬¼ ìƒìœ¡ ìƒíƒœë¥¼ ì‹¤ì‹œê°„ìœ¼ë¡œ ëª¨ë‹ˆí„°ë§í•˜ê³ , ìµœì ì˜ ì¬ë°° í™˜ê²½ì„ ìë™ìœ¼ë¡œ ì œì–´í•˜ëŠ” ìŠ¤ë§ˆíŠ¸íŒœ ì†”ë£¨ì…˜ì„ ê°œë°œí•©ë‹ˆë‹¤.

ì£¼ìš” ê¸°ëŠ¥:
- ì‹¤ì‹œê°„ í™˜ê²½ ëª¨ë‹ˆí„°ë§ (ì˜¨ë„, ìŠµë„, í† ì–‘, CO2)
- AI ê¸°ë°˜ ìƒìœ¡ ì˜ˆì¸¡ ë° ìˆ˜í™•ëŸ‰ ì˜ˆì¸¡
- ìë™ ê´€ìˆ˜/ì‹œë¹„ ì‹œìŠ¤í…œ
- ë³‘ì¶©í•´ ì¡°ê¸° ê°ì§€ ì‹œìŠ¤í…œ`,
            
            3: `AI ê¸°ë°˜ íí”Œë¼ìŠ¤í‹± ìë™ ë¶„ë¥˜ ì‹œìŠ¤í…œ

í˜„ì¬ íí”Œë¼ìŠ¤í‹± ì¬í™œìš© ê³¼ì •ì—ì„œ ìˆ˜ì‘ì—… ë¶„ë¥˜ë¡œ ì¸í•œ ë‚®ì€ íš¨ìœ¨ì„±ê³¼ ë†’ì€ ì¸ê±´ë¹„ê°€ ë¬¸ì œì…ë‹ˆë‹¤.

ì €í¬ëŠ” ì»´í“¨í„° ë¹„ì „ê³¼ AIë¥¼ í™œìš©í•˜ì—¬ íí”Œë¼ìŠ¤í‹±ì„ ì¬ì§ˆë³„ë¡œ ìë™ ë¶„ë¥˜í•˜ëŠ” ì‹œìŠ¤í…œì„ ê°œë°œí•©ë‹ˆë‹¤. ì´ë¥¼ í†µí•´ ì¬í™œìš©ë¥ ì„ ë†’ì´ê³  í™˜ê²½ ë¬¸ì œ í•´ê²°ì— ê¸°ì—¬í•˜ê³ ì í•©ë‹ˆë‹¤.

ì£¼ìš” ê¸°ëŠ¥:
- AI ì´ë¯¸ì§€ ì¸ì‹ ê¸°ë°˜ í”Œë¼ìŠ¤í‹± ì¬ì§ˆ ë¶„ë¥˜
- ì»¨ë² ì´ì–´ ë²¨íŠ¸ ì—°ë™ ìë™ ë¶„ë¥˜ ì‹œìŠ¤í…œ
- ë¶„ë¥˜ ì •í™•ë„ 95% ì´ìƒ
- ì‹¤ì‹œê°„ ì²˜ë¦¬ëŸ‰ ëª¨ë‹ˆí„°ë§`
        };
        
        // ë°ëª¨ ê²°ê³¼ ë°ì´í„°
        const demoResults = {
            1: {
                not: "í˜„ì¬ ê±´ê°•ê´€ë¦¬ ì•± ì‹œì¥ì—ì„œëŠ” ì‚¬ìš©ìë“¤ì´ ë‹¨ìˆœ ê¸°ë¡ ê¸°ëŠ¥ì— ê·¸ì¹˜ëŠ” ì„œë¹„ìŠ¤ë¥¼ ì‚¬ìš©í•˜ê³  ìˆì–´, ì‹¤ì§ˆì ì¸ ê±´ê°• ê°œì„  íš¨ê³¼ë¥¼ ì–»ì§€ ëª»í•˜ê³  ìˆìŠµë‹ˆë‹¤. ê°œì¸ë³„ íŠ¹ì„±(ë‚˜ì´, ê¸°ì €ì§ˆí™˜, ìƒí™œíŒ¨í„´ ë“±)ì„ ê³ ë ¤í•˜ì§€ ì•Šì€ ì¼ë°˜ì ì¸ ê±´ê°• ì •ë³´ ì œê³µì€ ì‚¬ìš©ì ì´íƒˆë¥  ì¦ê°€ì™€ ë‚®ì€ ì„œë¹„ìŠ¤ ë§Œì¡±ë„ë¡œ ì´ì–´ì§€ê³  ìˆìŠµë‹ˆë‹¤.",
                but: "AI ê¸°ë°˜ ê°œì¸ ë§ì¶¤í˜• ê±´ê°•ê´€ë¦¬ í”Œë«í¼ì„ í†µí•´ ì‚¬ìš©ìì˜ ê±´ê°• ë°ì´í„°ë¥¼ ì¢…í•©ì ìœ¼ë¡œ ë¶„ì„í•˜ê³ , ê°œì¸ë³„ ìµœì í™”ëœ ê±´ê°• ê´€ë¦¬ ì†”ë£¨ì…˜ì„ ì œê³µí•©ë‹ˆë‹¤. ë¨¸ì‹ ëŸ¬ë‹ ì•Œê³ ë¦¬ì¦˜ì„ í™œìš©í•œ ê±´ê°• ìœ„í—˜ë„ ì˜ˆì¸¡ ë° ì¡°ê¸° ê²½ë³´ ì‹œìŠ¤í…œìœ¼ë¡œ ì˜ˆë°©ì  ê±´ê°•ê´€ë¦¬ê°€ ê°€ëŠ¥í•´ì§‘ë‹ˆë‹¤.",
                because: "1) êµ­ë‚´ ë””ì§€í„¸ í—¬ìŠ¤ì¼€ì–´ ì‹œì¥ ì—°í‰ê·  15% ì„±ì¥ ì¤‘, 2) ê°œì¸í™” AI ì¶”ì²œ ì‹œìŠ¤í…œì˜ ê¸°ìˆ ì  ì„±ìˆ™ë„ í™•ë³´, 3) ê±´ê°•ë³´í—˜ ë¹…ë°ì´í„°ì™€ ì—°ê³„ ê°€ëŠ¥ì„±, 4) ì½”ë¡œë‚˜19 ì´í›„ ë¹„ëŒ€ë©´ ê±´ê°•ê´€ë¦¬ ìˆ˜ìš” ê¸‰ì¦",
                policies: [
                    { title: "2025ë…„ AI ë°”ìš°ì²˜ ì§€ì›ì‚¬ì—…", score: 9, description: "AI ì†”ë£¨ì…˜ ë„ì…ì„ ìœ„í•œ ìµœëŒ€ 3ì–µì› ë°”ìš°ì²˜ ì§€ì›. í—¬ìŠ¤ì¼€ì–´ AI ê°œë°œì— ì í•©" },
                    { title: "2025ë…„ ì°½ì—…ì„±ì¥ê¸°ìˆ ê°œë°œì‚¬ì—…", score: 8, description: "ê¸°ìˆ ì°½ì—… ê¸°ì—… ëŒ€ìƒ ìµœëŒ€ 2ì–µì› R&D ì§€ì›. ë””ì§€í„¸ í—¬ìŠ¤ì¼€ì–´ ë¶„ì•¼ ìš°ëŒ€" },
                    { title: "2025ë…„ ë°ì´í„°ë°”ìš°ì²˜ ì§€ì›ì‚¬ì—…", score: 8, description: "AI í•™ìŠµìš© ë°ì´í„° êµ¬ë§¤ ë° ê°€ê³µ ë¹„ìš© ì§€ì›. ê±´ê°• ë°ì´í„° í™œìš©ì— ì í•©" }
                ]
            },
            2: {
                not: "í˜„ì¬ êµ­ë‚´ ë†ì—… í˜„ì¥ì—ì„œëŠ” ë†ì—…ì¸ì˜ ê³ ë ¹í™”ì™€ ê²½í—˜ ì˜ì¡´ì  ì¬ë°° ê´€ë¦¬ë¡œ ì¸í•´ ìƒì‚°ì„± í¸ì°¨ê°€ í¬ê³ , ê¸°í›„ë³€í™”ì— ëŒ€í•œ ëŒ€ì‘ë ¥ì´ ë¶€ì¡±í•©ë‹ˆë‹¤. íŠ¹íˆ ì‹œì„¤ì›ì˜ˆ ë¶„ì•¼ì—ì„œ ì—ë„ˆì§€ ë¹„ìš© ì¦ê°€ì™€ ì¸ë ¥ ë¶€ì¡±ì´ ì‹¬ê°í•œ ë¬¸ì œë¡œ ëŒ€ë‘ë˜ê³  ìˆìŠµë‹ˆë‹¤.",
                but: "IoT ì„¼ì„œì™€ AIë¥¼ ê²°í•©í•œ ìŠ¤ë§ˆíŠ¸íŒœ ì†”ë£¨ì…˜ì„ í†µí•´ ì‹¤ì‹œê°„ í™˜ê²½ ëª¨ë‹ˆí„°ë§, ìë™ ì œì–´, ìƒìœ¡ ì˜ˆì¸¡ì´ ê°€ëŠ¥í•´ì§‘ë‹ˆë‹¤. ë°ì´í„° ê¸°ë°˜ ì˜ì‚¬ê²°ì •ìœ¼ë¡œ ìƒì‚°ì„± 30% í–¥ìƒ, ì—ë„ˆì§€ ë¹„ìš© 20% ì ˆê°ì„ ëª©í‘œë¡œ í•©ë‹ˆë‹¤.",
                because: "1) ì •ë¶€ ìŠ¤ë§ˆíŠ¸ë†ì—… í™•ì‚° ì •ì±… ì¶”ì§„ ì¤‘, 2) ë†ì—… ë””ì§€í„¸ ì „í™˜ ìˆ˜ìš” ê¸‰ì¦, 3) IoT/AI ê¸°ìˆ ì˜ ë†ì—… ì ìš© ì‚¬ë¡€ ì¦ê°€, 4) íƒ„ì†Œì¤‘ë¦½ ì •ì±…ì— ë”°ë¥¸ ì—ë„ˆì§€ íš¨ìœ¨í™” ìš”êµ¬",
                policies: [
                    { title: "2025ë…„ ìŠ¤ë§ˆíŠ¸íŒœ í˜ì‹ ë°¸ë¦¬ ì§€ì›ì‚¬ì—…", score: 10, description: "ìŠ¤ë§ˆíŠ¸íŒœ ê¸°ìˆ ê°œë°œ ë° ì‹¤ì¦ ì§€ì›. ìµœëŒ€ 5ì–µì› ê·œëª¨" },
                    { title: "2025ë…„ ë†ì‹í’ˆ R&D ì§€ì›ì‚¬ì—…", score: 9, description: "ë†ì—… ê¸°ìˆ  í˜ì‹ ì„ ìœ„í•œ R&D ì§€ì›. ìŠ¤ë§ˆíŠ¸ë†ì—… ë¶„ì•¼ ìš°ì„  ì§€ì›" },
                    { title: "2025ë…„ ê·¸ë¦°ë‰´ë”œ ê¸°ìˆ ê°œë°œì‚¬ì—…", score: 8, description: "íƒ„ì†Œì¤‘ë¦½ ê´€ë ¨ ê¸°ìˆ ê°œë°œ ì§€ì›. ì—ë„ˆì§€ ì ˆê° ì†”ë£¨ì…˜ í¬í•¨" }
                ]
            },
            3: {
                not: "í˜„ì¬ íí”Œë¼ìŠ¤í‹± ì¬í™œìš© ì‹œì¥ì—ì„œëŠ” ìˆ˜ì‘ì—… ë¶„ë¥˜ì— ì˜ì¡´í•˜ê³  ìˆì–´ ë¶„ë¥˜ ì •í™•ë„ê°€ ë‚®ê³ (70% ìˆ˜ì¤€), ì¸ê±´ë¹„ ë¶€ë‹´ì´ ë†’ìŠµë‹ˆë‹¤. íŠ¹íˆ ë³µí•©ì¬ì§ˆ í”Œë¼ìŠ¤í‹±ì˜ ë¶„ë¥˜ê°€ ì–´ë ¤ì›Œ ì‹¤ì œ ì¬í™œìš©ë¥ ì´ 30%ì— ê·¸ì¹˜ê³  ìˆìŠµë‹ˆë‹¤.",
                but: "ì»´í“¨í„° ë¹„ì „ê³¼ ë”¥ëŸ¬ë‹ ê¸°ìˆ ì„ í™œìš©í•œ ìë™ ë¶„ë¥˜ ì‹œìŠ¤í…œìœ¼ë¡œ ë¶„ë¥˜ ì •í™•ë„ 95% ì´ìƒì„ ë‹¬ì„±í•˜ê³ , ì‹œê°„ë‹¹ ì²˜ë¦¬ëŸ‰ì„ ê¸°ì¡´ ëŒ€ë¹„ 5ë°° í–¥ìƒì‹œí‚µë‹ˆë‹¤. ì´ë¥¼ í†µí•´ ì¬í™œìš©ë¥ ì„ 70%ê¹Œì§€ ë†’ì¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.",
                because: "1) 2025ë…„ í”Œë¼ìŠ¤í‹± ì¬í™œìš© ì˜ë¬´ë¹„ìœ¨ ê°•í™” ì •ì±…, 2) ESG ê²½ì˜ í™•ì‚°ì— ë”°ë¥¸ ê¸°ì—… ìˆ˜ìš” ì¦ê°€, 3) EU í”Œë¼ìŠ¤í‹± ê·œì œ ê°•í™”ë¡œ ìˆ˜ì¶œê¸°ì—… ëŒ€ì‘ í•„ìš”, 4) êµ­ë‚´ AI ë¹„ì „ ê¸°ìˆ  ì„¸ê³„ì  ìˆ˜ì¤€ ë„ë‹¬",
                policies: [
                    { title: "2025ë…„ ì¬í™œìš© ì‚°ì—… ìœ¡ì„± ì§€ì›", score: 10, description: "ìˆœí™˜ê²½ì œ ì „í™˜ì„ ìœ„í•œ ì¬í™œìš© ê¸°ìˆ ê°œë°œ ì§€ì›. ìµœëŒ€ 10ì–µì›" },
                    { title: "2025ë…„ AI í”ŒëŸ¬ìŠ¤ ìœµí•©ê¸°ìˆ ê°œë°œ", score: 9, description: "AI ìœµí•© ê¸°ìˆ ê°œë°œ ì§€ì›. í™˜ê²½ ë¶„ì•¼ AI ì ìš© ìš°ëŒ€" },
                    { title: "2025ë…„ ì¹œí™˜ê²½ê²½ì˜(ESG) ì»¨ì„¤íŒ… ì§€ì›", score: 8, description: "ì¤‘ì†Œê¸°ì—… ESG ê²½ì˜ ë„ì… ì§€ì›. í™˜ê²½ ë¶„ì•¼ ê¸°ìˆ  ë„ì… í¬í•¨" }
                ]
            }
        };
        
        let selectedSample = null;
        
        function selectMode(mode) {
            currentMode = mode;
            document.getElementById('demoModeBtn').classList.toggle('active', mode === 'demo');
            document.getElementById('realModeBtn').classList.toggle('active', mode === 'real');
            document.getElementById('apiSection').classList.toggle('show', mode === 'real');
        }
        
        function selectSample(num) {
            selectedSample = num;
            document.querySelectorAll('.sample-card').forEach((card, index) => {
                card.classList.toggle('selected', index + 1 === num);
            });
            document.getElementById('businessPlan').value = samples[num];
        }
        
        async function analyze() {
            const businessPlan = document.getElementById('businessPlan').value.trim();
            
            if (!businessPlan) {
                alert('ì‚¬ì—…ê³„íšì„ ì…ë ¥í•´ì£¼ì„¸ìš”.');
                return;
            }
            
            // ë¡œë”© í‘œì‹œ
            document.getElementById('loadingSection').style.display = 'block';
            document.getElementById('resultSection').classList.remove('show');
            document.getElementById('demoNotice').classList.remove('show');
            document.getElementById('analyzeBtn').disabled = true;
            
            if (currentMode === 'demo') {
                // ë°ëª¨ ëª¨ë“œ: ìƒ˜í”Œ ê²°ê³¼ í‘œì‹œ
                setTimeout(() => {
                    showDemoResults();
                }, 2000); // 2ì´ˆ ëŒ€ê¸° (ì‹¤ì œ ë¶„ì„ ëŠë‚Œ)
            } else {
                // ì‹¤ì œ ë¶„ì„ ëª¨ë“œ
                const apiKey = document.getElementById('apiKey').value.trim();
                if (!apiKey) {
                    alert('API í‚¤ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.');
                    document.getElementById('loadingSection').style.display = 'none';
                    document.getElementById('analyzeBtn').disabled = false;
                    return;
                }
                
                try {
                    await performRealAnalysis(businessPlan, apiKey);
                } catch (error) {
                    alert('ë¶„ì„ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤: ' + error.message);
                    document.getElementById('loadingSection').style.display = 'none';
                    document.getElementById('analyzeBtn').disabled = false;
                }
            }
        }
        
        function showDemoResults() {
            const resultKey = selectedSample || 1;
            const result = demoResults[resultKey];
            
            document.getElementById('notResult').textContent = result.not;
            document.getElementById('butResult').textContent = result.but;
            document.getElementById('becauseResult').textContent = result.because;
            
            let policyHTML = '';
            result.policies.forEach((policy, index) => {
                policyHTML += `
                    <div class="policy-card">
                        <span class="match-score">ë§¤ì¹­ë„ ${policy.score}/10</span>
                        <div class="title">${index + 1}ìœ„. ${policy.title}</div>
                        <div class="description">${policy.description}</div>
                    </div>
                `;
            });
            document.getElementById('policyResults').innerHTML = policyHTML;
            
            document.getElementById('loadingSection').style.display = 'none';
            document.getElementById('resultSection').classList.add('show');
            document.getElementById('demoNotice').classList.add('show');
            document.getElementById('analyzeBtn').disabled = false;
        }
        
        async function performRealAnalysis(businessPlan, apiKey) {
            // N2B ë¶„ì„ ìš”ì²­
            const analyzeResponse = await fetch(BACKEND_URL + '/analyze', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({
                    proposalText: businessPlan,
                    apiKey: apiKey
                })
            });
            
            if (!analyzeResponse.ok) {
                throw new Error('N2B ë¶„ì„ ì‹¤íŒ¨');
            }
            
            const analyzeResult = await analyzeResponse.json();
            
            // ì •ì±… ë§¤ì¹­ ìš”ì²­
            const matchResponse = await fetch(BACKEND_URL + '/match', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({
                    apiKey: apiKey,
                    n2bAnalysis: analyzeResult
                })
            });
            
            if (!matchResponse.ok) {
                throw new Error('ì •ì±… ë§¤ì¹­ ì‹¤íŒ¨');
            }
            
            const matchResult = await matchResponse.json();
            
            // ê²°ê³¼ í‘œì‹œ
            document.getElementById('notResult').textContent = analyzeResult.N || analyzeResult.not || 'ë¶„ì„ ê²°ê³¼ ì—†ìŒ';
            document.getElementById('butResult').textContent = analyzeResult.B || analyzeResult.but || 'ë¶„ì„ ê²°ê³¼ ì—†ìŒ';
            document.getElementById('becauseResult').textContent = analyzeResult.C || analyzeResult.because || 'ë¶„ì„ ê²°ê³¼ ì—†ìŒ';
            
            let policyHTML = '';
            if (matchResult.matches && matchResult.matches.length > 0) {
                matchResult.matches.slice(0, 3).forEach((policy, index) => {
                    policyHTML += `
                        <div class="policy-card">
                            <span class="match-score">ë§¤ì¹­ë„ ${policy.score}/10</span>
                            <div class="title">${index + 1}ìœ„. ${policy.name}</div>
                            <div class="description">${policy.reason || policy.description || ''}</div>
                        </div>
                    `;
                });
            } else {
                policyHTML = '<p>ë§¤ì¹­ëœ ì •ì±…ì´ ì—†ìŠµë‹ˆë‹¤.</p>';
            }
            document.getElementById('policyResults').innerHTML = policyHTML;
            
            document.getElementById('loadingSection').style.display = 'none';
            document.getElementById('resultSection').classList.add('show');
            document.getElementById('analyzeBtn').disabled = false;
        }
    </script>
</body>
</html>
